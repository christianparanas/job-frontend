<div class="relative z-40 mt-20 pb-20">
  <!-- Header -->
  <div class="mb-5">
    <h1 class="font-bold text-xl md:text-3xl text-gray-900">Job Details</h1>
    <p class="text-gray-800 text-[12px]">Manage your posted job</p>
  </div>

  <hr />


    <!-- Main Content -->
    <div class="max-w-5xl mx-auto py-10">
      <div class="bg-white rounded-xl shadow-sm animate-fade-in" *ngIf="job; else noJob">
        <!-- Job Header -->
        <div class="py-6 border-b border-gray-200">
          <div class="flex justify-between items-center">
            <h2 class="text-xl md:text-2xl font-medium text-gray-800">{{ job.title }}</h2>
            <span class="px-3 py-1 text-sm font-medium rounded-full" [ngClass]="getStatusColor(job.status)">
              {{ job.status }}
            </span>
          </div>
          <p class="mt-2 text-sm text-gray-500">
            Posted on {{ job.postedDate }} â€¢ {{ job.applications }} applications
          </p>
        </div>

        <!-- Job Details -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 p-6">
          <!-- Left Column -->
          <div class="space-y-6">
            <div>
              <h3 class="text-sm font-medium text-gray-500 uppercase">Description</h3>
              <p class="mt-2 text-sm text-gray-700 leading-relaxed">{{ job.description }}</p>
            </div>
            <div>
              <h3 class="text-sm font-medium text-gray-500 uppercase">Skills & Proficiency</h3>
              <div class="mt-2 flex flex-wrap gap-2">
                <p-badge
                  *ngFor="let req of job.requirements"
                  [value]="req.skill + ' (' + getProficiencyLabel(req.proficiency) + ')'"
                  styleClass="bg-indigo-100 text-indigo-800 text-xs font-medium px-2 py-1 rounded-md"
                ></p-badge>
                <p class="text-xs text-gray-500 italic" *ngIf="job.requirements.length === 0">
                  No skills specified
                </p>
              </div>
            </div>
          </div>

          <!-- Right Column -->
          <div class="space-y-6">
            <div>
              <h3 class="text-sm font-medium text-gray-500 uppercase">Location</h3>
              <p class="mt-2 text-sm text-gray-700">{{ job.location || 'Not specified' }}</p>
            </div>
            <div>
              <h3 class="text-sm font-medium text-gray-500 uppercase">Salary</h3>
              <p class="mt-2 text-sm text-gray-700">{{ job.salary || 'Not specified' }}</p>
            </div>
            <div>
              <h3 class="text-sm font-medium text-gray-500 uppercase">Job Type</h3>
              <p class="mt-2 text-sm text-gray-700">{{ job.type || 'Not specified' }}</p>
            </div>
          </div>
        </div>

        <!-- Applicants Section -->
        <div class="p-6 border-t border-gray-200">
          <h3 class="text-sm font-medium text-gray-500 uppercase mb-4">Applicants</h3>
          <div class="space-y-4">
            <div *ngFor="let applicant of applicants" class="flex items-center justify-between p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-all duration-200">
              <div>
                <p class="text-sm font-medium text-gray-800">{{ applicant.name }}</p>
                <p class="text-xs text-gray-500">Applied on {{ applicant.appliedDate }}</p>
              </div>
              <p-button
                label="Message"
                styleClass="p-button-text p-button-sm text-indigo-600 hover:text-indigo-800 hover:bg-indigo-50 rounded-md transition-all duration-200"
                (click)="messageApplicant(applicant.id)"
              ></p-button>
            </div>
            <p class="text-xs text-gray-500 italic" *ngIf="applicants.length === 0">
              No applicants yet
            </p>
          </div>
        </div>

        <!-- Actions -->
        <div class="p-6 border-t border-gray-200 flex justify-end gap-3">
          <p-button
            label="Edit Job"
            styleClass="p-button-text p-button-sm text-indigo-600 hover:text-indigo-800 hover:bg-indigo-50 rounded-md transition-all duration-200"
            [routerLink]="['/employer/job/edit']"
          ></p-button>
          <p-button
            label="Back to Jobs"
            styleClass="p-button-sm bg-indigo-600 hover:bg-indigo-700 text-white rounded-md transition-all duration-200"
            [routerLink]="['/employer/jobs']"
          ></p-button>
        </div>
      </div>

      <ng-template #noJob>
        <div class="bg-white rounded-xl shadow-sm p-6 text-center animate-fade-in">
          <p class="text-sm text-gray-500">Job not found. Please check the job ID or return to the jobs list.</p>
          <p-button
            label="Back to Jobs"
            styleClass="mt-4 p-button-sm bg-indigo-600 hover:bg-indigo-700 text-white rounded-md transition-all duration-200"
            [routerLink]="['/employer/jobs']"
          ></p-button>
        </div>
      </ng-template>
    </div>
  </div>
