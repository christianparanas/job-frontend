<div class="min-h-screen bg-gray-50 py-10">
  <!-- Header -->
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8 animate-fade-in-down">
    <div class="flex items-center justify-between">
      <div class="flex items-center gap-4">
        <p-button
          icon="pi pi-arrow-left"
          styleClass="p-button-text p-button-sm text-gray-600 hover:text-gray-800"
          [routerLink]="['/employer/applications']"
        ></p-button>
        <div>
          <h1 class="text-2xl md:text-3xl font-bold text-gray-900">{{ candidate.name }}</h1>
          <p class="text-sm text-gray-600">Candidate Details</p>
        </div>
      </div>
      <div class="flex items-center gap-4">
        <p-dropdown
          [options]="statusOptions"
          [(ngModel)]="candidate.status"
          (onChange)="toggleStatus($event.value)"
          [style]="{ 'min-width': '150px' }"
          class="text-sm"
          [ngClass]="{
            'p-dropdown-yellow': candidate.status === 'Pending',
            'p-dropdown-green': candidate.status === 'Shortlisted',
            'p-dropdown-red': candidate.status === 'Rejected'
          }"
        ></p-dropdown>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 lg:grid-cols-3 gap-6">
    <!-- Left Column: Personal Info & Actions -->
    <div class="lg:col-span-1 space-y-6 animate-fade-in">
      <!-- Personal Info -->
      <p-card header="Personal Information" class="bg-white rounded-lg shadow-sm border border-gray-100">
        <div class="space-y-4">
          <div>
            <label class="text-xs font-semibold text-gray-500 uppercase">Email</label>
            <p class="text-sm text-gray-900">{{ candidate.email || 'N/A' }}</p>
          </div>
          <div>
            <label class="text-xs font-semibold text-gray-500 uppercase">Phone</label>
            <p class="text-sm text-gray-900">{{ candidate.phone || 'N/A' }}</p>
          </div>
          <div>
            <label class="text-xs font-semibold text-gray-500 uppercase">Experience</label>
            <p class="text-sm text-gray-900">{{ candidate.experience || 'N/A' }}</p>
          </div>
          <div>
            <label class="text-xs font-semibold text-gray-500 uppercase">Education</label>
            <p class="text-sm text-gray-900">{{ candidate.education || 'N/A' }}</p>
          </div>
        </div>
      </p-card>

      <!-- Actions -->
      <p-card header="Actions" class="bg-white rounded-lg shadow-sm border border-gray-100">
        <div class="space-y-4">
          <p-button
            label="Download Resume"
            icon="pi pi-download"
            styleClass="p-button-sm w-full text-blue-500 hover:text-blue-600"
            (click)="downloadResume()"
            [disabled]="!candidate.resumeUrl"
          ></p-button>
          <p-button
            label="Back to Candidates"
            icon="pi pi-arrow-left"
            styleClass="p-button-sm w-full p-button-outlined"
            [routerLink]="['/employer/applications']"
          ></p-button>
        </div>
      </p-card>
    </div>

    <!-- Right Column: Job Details & Additional Info -->
    <div class="lg:col-span-2 space-y-6 animate-fade-in">
      <!-- Job Application Details -->
      <p-card header="Job Application" class="bg-white rounded-lg shadow-sm border border-gray-100">
        <div class="space-y-4">
          <div>
            <label class="text-xs font-semibold text-gray-500 uppercase">Job Title</label>
            <p class="text-sm text-gray-900">{{ candidate.job || 'N/A' }}</p>
          </div>
          <div>
            <label class="text-xs font-semibold text-gray-500 uppercase">Applied Date</label>
            <p class="text-sm text-gray-900">{{ candidate.appliedDate || 'N/A' }}</p>
          </div>
          <div>
            <label class="text-xs font-semibold text-gray-500 uppercase">Skills</label>
            <div class="flex flex-wrap gap-2">
              <span
                *ngFor="let skill of candidate.skills || []"
                class="bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full"
              >
                {{ skill }}
              </span>
              <span *ngIf="!candidate.skills || candidate.skills.length === 0" class="text-sm text-gray-500">N/A</span>
            </div>
          </div>
        </div>
      </p-card>

      <!-- Notes -->
      <p-card header="Notes" class="bg-white rounded-lg shadow-sm border border-gray-100">
        <p class="text-sm text-gray-700">{{ candidate.notes || 'No notes available.' }}</p>
      </p-card>
    </div>
  </div>
</div>
